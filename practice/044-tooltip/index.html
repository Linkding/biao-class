<style>
    body {
        margin: 0;
        font-family: sans-serif;
    }

    .tip-trigger {
        background: pink;
    }

    .tip {
        position: absolute;
        background: #222;
        color: #fff;
        padding: 5px;
       
        /*-webkit-border-radius: 3px;*/
        /*-moz-border-radius: 3px;*/
        /*border-radius: 3px;*/
        -webkit-box-shadow: 0 0 2px #000;
        -moz-box-shadow: 0 0 2px #000;
        box-shadow: 0 0 2px #000;
        opacity: .8;
    }
    </style>

Lorem ipsum dolor sit amet, consectetur adipisicing elit. At corporis dignissimos eum facilis Lorem ipsum dolor sit amet,
adipisicing elit. At corporisconsectetur dada  adipisicingelit. At corporis dignissimos eum facilis Lorem ipsum dolor sit amet, consectetur adipisicing elit.

At corporis dignissimos eum facilis

Lorem ipsum dolor sit amet, consectetur dfadfadfadfadfadfa
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure <span data-tip-direction='right' data-tip="Yoo" class="tip-trigger">Yo</span>blanditiis odit?

Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
Lorem ipsum dolor sit amet consectetur adipisicing elit. Nihil non, facere placeat dolorum labore dolore consectetur consequuntur sit, voluptatum qui aliquam laudantium perspiciatis? Ut iste harum deleniti iure blanditiis odit?
<script>
    var tip_trigger = document.querySelector('.tip-trigger');
    var tip;


    tip_trigger.addEventListener('mouseenter',function(){
        show_tip();
        position_tip();
    });

    tip_trigger.addEventListener('mouseleave',function(){
        hide_tip();
    });

    function show_tip(){
        if(tip)
            return;
        tip = document.createElement('div');
        tip.classList.add('tip');
        tip.innerText = tip_trigger.dataset.tip;
        document.body.appendChild(tip);
    }

    function hide_tip() {
        tip.remove();
        tip = null ;
    };


    // function posisiton_tip (){
    //     var position = tip_trigger.getBoundingClientRect();
    //     // tip.style.top = position.top - tip.offsetHeight - 3;
    //     tip.style.left = position.left
    //     tip.style.top = position.top - tip.offsetHeight - 3
    //     console.log(position);
    // }

    function position_tip (){
        var position = tip_trigger.getBoundingClientRect();
        console.log(position)
        var left = position.left
            ,top = position.top
            ,right = position.right
            ,bottom = position.bottom
            ,tip_trigger_height = position.height

        var tip_width = tip.offsetWidth
            ,tip_heigth = tip.offsetHeight
        
        // var all_height = document.body.clientHeight
        //     ,all_width = document.body.clientWidth;
        var all_height = window.innerHeight
            ,all_width = window.innerWidth

        console.log("屏幕高:" + all_height)
        // console.log(left + tip.offsetWidth)
        if (left + tip.offsetWidth > document.body.offsetWidth){
            left = document.body.offsetWidth - position.width - tip_width ;
            // tip.style.left = left + 'px';
            
        } else if ( left <=0){
            left = 0;
            // tip.style.left = left + 'px';
            
        }
        
        a = top + tip.offsetHeight
        console.log('判断的高：'+ a)
        if (top + tip.offsetHeight > all_height){
            top = all_height - tip_trigger_height - tip_heigth;
            console.log('处理后的top：' + top);
            tip.style.top = top;
            console.log('这个top，1')
            console.log(tip.style.top)
        } else if (top <= 0){
                top = top + tip_heigth * 1.6;
                tip.style.top = top - tip_heigth;
                console.log('这个top，2');
                console.log(tip.style.top);
                
        } else {
            tip.style.top = top - tip_heigth;
            console.log(top)
            console.log('这个top，3');
            console.log(tip.style.top);
        }
        tip.style.left = left + 'px';
        // tip.style.top = 300 + 'px';
        console.log(tip.getBoundingClientRect())
    }
</script>