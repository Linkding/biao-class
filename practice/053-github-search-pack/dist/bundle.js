!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){var o="yo",i=n(1);t.exports={get_keyword:function(){return o},set_keyword:function(t){return o=t},test:function(){var t=i.get_store("history_list");console.log(t)}}},function(t,e,n){var o;n(0).get_keyword();function i(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)}function r(t){s("history_list",t)}function s(t,e){var n=JSON.stringify(e);localStorage.setItem(t,n)}function l(t){var e=localStorage.getItem(t);return e=JSON.parse(e)}t.exports={set_store:s,get_store:l,append_history:function(t){i(o,t),o.unshift(t),r(o)},find_and_delete:i,over_write_history:r,reload_history_list:function(){o=l("history_list")||[]},get_history_list:function(){return o}}},function(t,e,n){var o=n(0);t.exports={user:function(t,e,n){var i={page:1,limit:2,keyword:o.get_keyword()};n=Object.assign({},i,n),console.log("发射出去的page="+n.page+"  limit="+n.limit);var r=new XMLHttpRequest;r.open("get","https://api.github.com/search/users?q="+t+"&page="+n.page+"&per_page="+n.limit),r.send(),r.addEventListener("load",function(t){t=JSON.parse(this.responseText),e(t)})}}},function(t,e,n){var o=n(1),i=n(0),r=n(2),s=document.getElementById("form-search"),l=document.getElementById("search-input"),c=document.getElementById("user-list"),d=document.getElementById("load-more"),a=document.querySelector(".history-list");o.get_history_list();function u(t,e){e=e||"";t.items.forEach(function(t){e+=`\n                <div class="user">\n                <div class="logo">\n                    <img src="${t.avatar_url}">\n                </div>\n                <div class="info">\n                    <div class="name">${t.login}</div>\n                    <a href="${t.html_url}" class="link">${t.html_url}</a>\n                </div>\n                </div>\n                `}),c.innerHTML=e,document.querySelector("#count").innerHTML=`共有${t.total_count}条结果`}function _(){d.hidden=!1}t.exports={form:s,input:l,load_more:d,render_user_list:u,render_history_list:function t(){a.innerHTML="",console.log(o.get_history_list()),o.get_history_list().forEach(function(e){var n,s=document.createElement("div");s.classList.add("history"),s.dataset.history=e,s.innerHTML=`\n        <div class="text">${e}</div>\n        <div class="tool">\n            <span class="delete">删除</span>\n        </div>\n        `,a.appendChild(s),n=s.querySelector(".delete"),s.addEventListener("click",function(t){t.target.classList.contains("delete")||(i.set_keyword(this.dataset.history),r.user(i.get_keyword(),function(t){u(t),_()}))}),n.addEventListener("click",function(e){var n=this.closest(".history").dataset.history;o.find_and_delete(o.get_history_list(),n)&&(o.over_write_history(a),setTimeout(function(){t()},0),o.get_history_list().length||(a.hidden=!0))})})},show_history_list:function(){a.hidden=!1},hide_history_list:function(){a.hidden=!0},show_load_more:_,hide_load_more:function(){d.hidden=!0}}},function(t,e,n){var o=n(3),i=n(2),r=n(1),s=n(0),l=1,c=4,d=document.getElementById("user-list");t.exports={add_event:function(){o.form.addEventListener("submit",function(t){t.preventDefault(),keyword=s.set_keyword(o.input.value),console.log("提交submit"),keyword&&(i.user(keyword,function(t){console.log(t),o.render_user_list(t),o.show_load_more()}),console.log("提交后，录入关键字列表"),r.append_history(keyword))}),o.load_more.addEventListener("click",function(){console.log("click load more"),console.log("发射之前page="+l);var t={page:++l,limit:c};console.log("准备发射page="+l),i.user(s.get_keyword(),function(t){o.render_user_list(t,d.innerHTML)},t)}),o.input.addEventListener("click",function(t){o.render_history_list(),o.show_history_list()}),document.documentElement.addEventListener("click",function(t){var e=t.target,n=e.closest("#search-input");e.closest(".history-list")||n||o.hide_history_list()})}}},function(t,e,n){var o=n(4),i=(n(0),n(1)),r=i.get_history_list();i.set_store("history_list",["lxx","whh"]),i.reload_history_list(),console.log("history_list怎么是这样"+r),console.log("直接引用localstore.get_history_list()  "+i.get_history_list()+"   没有毛病"),o.add_event()}]);