<link rel="stylesheet" href="index.css">
<div id="root">
  <div class="container">
    <div class="row">
      <div class="col sidebar">
        <div @click="current = row"
             v-if="row.title"
             v-for="row in memo_list"
             class="sidebar-item row">
          <span class="title col">{{row.title}}</span>
          <span class="tool-set col">
            <span @click="remove(row.id, $event)">删除</span>
          </span>
        </div>
        <button class="block" @click="init_current()">+</button>
      </div>
      <div class="col main">
        <div v-if="current" class="editor">
          <input v-model="current.title" type="text" placeholder="标题">
          <textarea v-model="current.content" placeholder="内容"></textarea>
          <button @click="add" class="primary">保存</button>
          <button @click="current = null">关闭</button>
        </div>
        <div v-else class="holder">请选择一条备忘或
          <button @click="init_current()">添加一条</button>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="./node_modules/axios/dist/axios.js"></script>
<script src="./node_modules/vue/dist/vue.js"></script>
<script src="./http.js"></script>
<script src="./index.js"></script>
<script>
  // let param = {
  //   timestamp : (new Date).getTime(),
  //   app_key   : 'f908f3fcd0c133cce89a04cac38cad16eebc7aa5fe917a5025e7c26ce70790d7',
  //
  //   name      : 'memo',
  //   structure : [
  //     {
  //       name     : 'title',
  //       type     : 'string',
  //       nullable : true,
  //     },
  //     {
  //       name     : 'content',
  //       type     : 'text',
  //       nullable : false,
  //     },
  //     {
  //       name     : 'created_at',
  //       type     : 'dateTime',
  //       nullable : true,
  //     },
  //   ],
  // };
  //
  // param.signature = http.sign(param.app_key, param.timestamp);
  // http.post('MODEL/READ', param);
</script>
