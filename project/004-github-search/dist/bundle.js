!function(n){var t={};function e(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:i})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=9)}([function(n,t){var e,i,o=[],r=1,a=5;n.exports={get_keyword:function(){return e},set_keyword:function(n){return e=n},set_amount:function(n){return i=n},get_amount:function(){return i},get_user_list:function(){return o},set_user_lisr:function(n){return o=n},get_current_page:function(){return r},set_current_page:function(n){return r=n},get_limit:function(){return a},set_limit:function(n){return a=n}}},function(n,t){var e,i,o,r,a,s={amount:null,limit:null,range:5,current:1},c={init:function(n){if(!(i=document.querySelector(n.el)))throw"Invalid root element";if(e=Object.assign({},s,n),console.log(e),i.classList.add("pagination"),i.innerHTML='\n    <fieldset class="pagination-fieldset">\n    <div class="pagination-pre">\n      <button class="pagination-first">First</button>\n      <button class="pagination-prev">Prev</button>\n    </div>\n    <div class="pagination-list"></div>\n    <div class="pagination-post">\n      <button class="pagination-next">Next</button>\n      <button class="pagination-last">Last</button>\n    </div>\n  </fieldset>\n    ',r=i.querySelector(".pagination-list"),a=i.querySelector(".pagination-fieldset"),i.addEventListener("click",function(n){var t=n.target,i=t.classList.contains("pagination-item"),r=t.classList.contains("pagination-first"),a=t.classList.contains("pagination-last"),s=t.classList.contains("pagination-prev"),c=t.classList.contains("pagination-next");if(i){var d=parseInt(t.dataset.page);console.log("点击了："+d),l(d)}else r?l(1):a?l(o):s?l(e.current-1):c&&l(e.current+1);u()}),!n.amount||!n.limit)return;d(),l(e.current,!0),u()},set_amount_limit:function(n,t){e.amount=n,e.limit=t,d(),u()},show:function(){i.hidden=!1},hide:function(){i.hidden=!0},enabled:function(){console.log(a),a.disabled=!1},disabled:function(){console.log(a),a.disabled=!0}};function u(){r.innerHTML="";for(var n=function(){var n,t,i=Math.ceil(e.range/2),r=e.current<=i,a=e.current>=o-i;r?(n=1,t=e.range>o?o:e.range):a?(n=o-(e.range-1),t=o):(n=e.current-(i-1),t=e.current+(i-1));return{start:n,end:t}}(),t=n.start,i=n.end,a=t;a<=i;a++){var s=document.createElement("button");s.innerText=a,s.classList.add("pagination-item"),s.dataset.page=a,r.appendChild(s),a==e.current&&s.classList.add("active")}}function l(n,t){e.current;e.current=n,n>o&&(e.current=o),n<1&&(e.current=1),e.on_page_change&&e.on_page_change(e.current),t||e.current}function d(){o=Math.ceil(e.amount/e.limit)}n.exports=c},function(n,t){n.exports={set:function(n,t){var e=JSON.stringify(t);localStorage.setItem(n,e)},get:function(n){var t=localStorage.getItem(n);return JSON.parse(t)}}},function(n,t){n.exports={find_and_delete:function(n,t){return-1!=n.indexOf(t)&&(n.splice(t,1),!0)}}},function(n,t,e){var i,o,r,a=e(3),s=e(2),c=["aaa","sss","xxx"],u={init:function(n){if(!n.el)throw"invail param config.el";i=document.querySelector(n.el),o=n.on_click,r=n.on_delete,c=s.get("history_list")||[],l()},remove:f,add:function(n){a.find_and_delete(c,n),c.unshift(n),_(),l()},render:l,hide_history:d,show_history:function(){i.hidden=!1},sync_to_store:_};function l(){i.innerHTML="",c.forEach(function(n){var t=document.createElement("div");t.innerHTML=`\n        <div class="text">${n}</div>\n            <div class="tool">\n                <span class="delete">删除</span>\n            </div>\n        `,t.classList.add("history"),t.dataset.history=n,i.appendChild(t),t.addEventListener("click",function(t){o&&o(n,t)}),t.querySelector(".delete").addEventListener("click",function(t){t.stopPropagation(),r&&r(n,t),f(n)})})}function d(){i.hidden=!0}function f(n){a.find_and_delete(c,n),console.log(c),c.length||d(),_(),l()}function _(){s.set("history_list",c)}n.exports=u},function(n,t){var e={get:function(n,t,e){i({url:n,method:"get",on_succeed:t,on_fail:e})},post:function(n,t,e,o){i({url:n,method:"post",data:t,on_succeed:e,on_fail:o,headers:{"Content-Type":"application/json;charset=UTF-8"}})},ajax:i};function i(n){if(!n.url)throw"Invalid url";var t,e=new XMLHttpRequest,i=n.headers;if(e.open(n.method||"get",n.url),i)for(var o in i)e.setRequestHeader(o,i[o]);e.send(JSON.stringify(n.data)),e.addEventListener("load",function(){e.status>200?n.on_fail&&n.on_fail(t,e):(t=JSON.parse(e.responseText),n.on_succeed&&n.on_succeed(t,e)),n.on_load&&n.on_load()})}n.exports=e},function(n,t,e){var i=e(5),o=e(0),r=e(1);function a(){r.disabled(),console.log("before的时候")}function s(){r.enabled(),console.log("after的时候")}n.exports={search:function(n,t){!function(n,t,e,r){var a="https://api.github.com/search/users?q="+o.get_keyword()+"&page="+o.get_current_page()+"&per_page="+o.get_limit();e&&e(),i.ajax({url:a,header:{Authorization:btoa("linkding:0e2af1765ccb10d1021de3dec9cb5c1f3d3ffe78")},on_succeed:function(t){n&&n(t)},on_fail:function(){t&&t()},on_load:function(){r()}})}(n,t,a,s)}}},function(n,t,e){var i=e(0),o={render:function(){var n="";i.get_user_list().forEach(function(t){n+=`\n                <div class="user">\n                <div class="logo">\n                    <img src="${t.avatar_url}">\n                </div>\n                <div class="info">\n                    <div class="name">${t.login}</div>\n                    <a href="${t.html_url}" class="link">${t.html_url}</a>\n                </div>\n                </div>\n                `}),o.user_list.innerHTML=n,o.count.innerHTML=`共有${i.get_amount()}条结果`},reset_user_list:function(){o.user_list.innerHTML=""},user_list:document.querySelector("#user-list"),count:document.querySelector("#count"),form:document.querySelector("#form-search"),input:document.querySelector("#search-input")};n.exports=o},function(n,t,e){var i=e(7),o=e(6),r=e(0),a=e(4),s=e(1);function c(n){r.set_user_lisr(n.items),r.set_amount(n.total_count),console.log("amount: "+r.get_amount(),"limit: "+r.get_limit()),s.set_amount_limit(r.get_amount(),r.get_limit()),s.show(),i.reset_user_list(),i.render()}n.exports={add_event:function(){i.input.addEventListener("click",function(){a.show_history()}),document.documentElement.addEventListener("click",function(n){var t=n.target,e=t.closest("#search-input");t.closest("#form-search")&&e||a.hide_history()}),i.form.addEventListener("submit",function(n){n.preventDefault();var t=r.set_keyword(i.input.value);a.add(t),o.search(c)}),s.init({el:".pagination-container",amount:r.get_amount(),limit:r.get_limit(),on_page_change:function(n){n!=r.get_current_page()&&(r.set_current_page(n),o.search(c))}}),a.init({el:".history-list"})}}},function(n,t,e){e(8).add_event()}]);